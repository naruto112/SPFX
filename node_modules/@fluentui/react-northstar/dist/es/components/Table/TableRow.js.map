{"version":3,"sources":["components/Table/TableRow.tsx"],"names":["tableRowBehavior","getElementType","mergeVariablesOverrides","useAccessibility","useStyles","useTelemetry","useUnhandledProps","useFluentContext","Ref","customPropTypes","PropTypes","React","childrenExist","commonPropTypes","createShorthandFactory","TableCell","tableRowClassName","TableRow","props","context","displayName","telemetry","setStart","setEnd","rowRef","useRef","className","design","styles","items","header","compact","children","accessibility","variables","selected","hasChildren","ElementType","unhandledProps","handledProps","getA11yProps","debugName","actionHandlers","unsetRowTabbable","e","current","setAttribute","performClick","handleClick","mapPropsToBehavior","rtl","mapPropsToStyles","mapPropsToInlineStyles","classes","currentTarget","target","preventDefault","renderCells","item","create","defaultProps","overrideProps","predefinedProps","element","unstable_wrapWithFocusZone","root","onClick","propTypes","createCommon","content","collectionShorthand","bool","func","Object","keys","Component","mappedArrayProp"],"mappings":"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","sourcesContent":["import { Accessibility, tableRowBehavior, GridRowBehaviorProps } from '@fluentui/accessibility';\nimport {\n  ComponentWithAs,\n  getElementType,\n  mergeVariablesOverrides,\n  useAccessibility,\n  useStyles,\n  useTelemetry,\n  useUnhandledProps,\n  useFluentContext,\n} from '@fluentui/react-bindings';\nimport { Ref } from '@fluentui/react-component-ref';\nimport * as customPropTypes from '@fluentui/react-proptypes';\nimport * as _ from 'lodash';\n\nimport * as PropTypes from 'prop-types';\nimport * as React from 'react';\nimport { FluentComponentStaticProps, ShorthandCollection, ComponentEventHandler } from '../../types';\nimport { childrenExist, commonPropTypes, createShorthandFactory, UIComponentProps } from '../../utils';\nimport { TableCell, TableCellProps } from './TableCell';\n\nexport interface TableRowProps extends UIComponentProps {\n  /**\n   * Accessibility behavior if overridden by the user.\n   * */\n  accessibility?: Accessibility<GridRowBehaviorProps>;\n\n  /**\n   * Row cells\n   */\n  items?: ShorthandCollection<TableCellProps>;\n\n  /**\n   * Is the row a table header\n   */\n  header?: boolean;\n\n  /**\n   * Render table in compact mode\n   */\n  compact?: boolean;\n\n  /**\n   * Whether a row is currently selected or not.\n   */\n  selected?: boolean;\n\n  /**\n   * Called on click.\n   *\n   * @param event - React's original SyntheticEvent.\n   * @param data - All props.\n   */\n  onClick?: ComponentEventHandler<TableRowProps>;\n}\n\nexport const tableRowClassName = 'ui-table__row';\n\nexport type TableRowStylesProps = Pick<TableRowProps, 'header' | 'compact'>;\n\n/**\n * Component represents a single row in a tabular structure\n */\nexport const TableRow: ComponentWithAs<'div', TableRowProps> & FluentComponentStaticProps<TableRowProps> = props => {\n  const context = useFluentContext();\n  const { setStart, setEnd } = useTelemetry(TableRow.displayName, context.telemetry);\n  setStart();\n  const rowRef = React.useRef<HTMLElement>();\n  const { className, design, styles, items, header, compact, children, accessibility, variables, selected } = props;\n\n  const hasChildren = childrenExist(children);\n  const ElementType = getElementType(props);\n  const unhandledProps = useUnhandledProps(TableRow.handledProps, props);\n  const getA11yProps = useAccessibility(accessibility, {\n    debugName: TableRow.displayName,\n    actionHandlers: {\n      // https://github.com/microsoft/fluent-ui-react/issues/2150\n      unsetRowTabbable: e => {\n        rowRef.current.setAttribute('tabindex', '-1');\n      },\n      performClick: e => {\n        handleClick(e);\n      },\n    },\n    mapPropsToBehavior: () => ({\n      selected,\n      header,\n    }),\n    rtl: context.rtl,\n  });\n\n  const { classes } = useStyles<TableRowStylesProps>(TableRow.displayName, {\n    className: tableRowClassName,\n    mapPropsToStyles: () => ({\n      header,\n      compact,\n    }),\n    mapPropsToInlineStyles: () => ({\n      className,\n      design,\n      styles,\n      variables,\n    }),\n    rtl: context.rtl,\n  });\n\n  const handleClick = (e: React.SyntheticEvent) => {\n    if (e.currentTarget === e.target) {\n      _.invoke(props, 'onClick', e, props);\n      e.preventDefault();\n    }\n  };\n\n  const renderCells = () => {\n    return _.map(items, (item: TableCellProps) => {\n      return TableCell.create(item, {\n        defaultProps: () => getA11yProps('cell', {}),\n        overrideProps: predefinedProps => ({\n          variables: mergeVariablesOverrides(variables, predefinedProps.variables),\n        }),\n      });\n    });\n  };\n\n  const element = (\n    <Ref innerRef={rowRef}>\n      {getA11yProps.unstable_wrapWithFocusZone(\n        <ElementType\n          {...getA11yProps('root', {\n            className: classes.root,\n            onClick: handleClick,\n            ...unhandledProps,\n          })}\n        >\n          {hasChildren && children}\n          {!hasChildren && renderCells()}\n        </ElementType>,\n      )}\n    </Ref>\n  );\n  setEnd();\n  return element;\n};\n\nTableRow.displayName = 'TableRow';\n\nTableRow.propTypes = {\n  ...commonPropTypes.createCommon({\n    content: false,\n  }),\n  items: customPropTypes.collectionShorthand,\n  header: PropTypes.bool,\n  compact: PropTypes.bool,\n  selected: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n\nTableRow.handledProps = Object.keys(TableRow.propTypes) as any;\n\nTableRow.defaultProps = {\n  accessibility: tableRowBehavior,\n};\n\nTableRow.create = createShorthandFactory({ Component: TableRow, mappedArrayProp: 'items' });\n"],"file":"TableRow.js"}